#!/bin/bash
script_dir="$(cd "$(dirname "$0")" && pwd)"
sudo -v
sudo pacman -Sy

config_picom() {
    sudo rm /etc/xdg/picom.conf
    cd $script_dir
    sudo cp picom.conf /etc/xdg/picom.conf
}

add_neofetch_in_terminals() {
    echo "neofetch" >> ~/.bashrc
    echo "neofetch" >> ~/.config/fish/config.fish
}

create_browser_apps() {
    sudo sh -c 'echo "chromium --app=https://youtube.com" > /bin/youtube && chmod +x /bin/youtube'
    sudo sh -c 'echo "chromium --app=https://www.notion.so/" > /bin/notion && chmod +x /bin/notion'
    sudo sh -c 'echo "chromium --app=https://network.wwe.com/" > /bin/wwe && chmod +x /bin/wwe'
    sudo sh -c 'echo "chromium --app=https://chat.openai.com/" > /bin/gptchat && chmod +x /bin/gptchat'
    sudo sh -c 'echo "microsoft-edge-stable --app=https://music.youtube.com" > /bin/ytmusic && chmod +x /bin/ytmusic'
}

install_redshift() {
    cd $script_dir
    cp redshift.conf ~/.config/redshift.conf
}

./yay/install
./apps/minimal-install

if [ "$1" == "extra" ]; then
    ./apps/extra-install
fi

./lock/install
./dunst/install
# config_picom
./xinitrc/install
./xfce4-terminal-config/install
./bumblebee-status/install
./i3/install
./oh-my-fish/install
./dark-theme/install
./neofetch/install
add_neofetch_in_terminals
./nitrogen/install
create_browser_apps
install_redshift
